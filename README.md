# vbx-server

## 杂记
好友关系可以用redis的有序集合存储
备注可以和doveid一起写到字符串里，星标可以存在score里

mysql用friend表存uid和fid

redis和mysql都存好友关系，Redis的Set数据类型提供良好的交并差集的计算支持，可以针对这些好友信息数据进行共同好友、可能认识的人等相关的操作

用户表用mysql存储

用户的对话记录在本地，聊天记录后端就不存了

## 日志

2019-12-03：实现了注册功能，整体逻辑我感觉很不行，但是已经折腾了很多遍了都不太满意，现在的大概流程是，main里接一个链接，判断请求类别，注册类别的信息就交给数据口接口类的注册方法，注册方法实例化注册类，去和数据库交互

2019-12-04：把整体代码逻辑重写了，这回感觉像点样子了，就是一个处理器的多态实现，不像之前一样无病呻吟，又加了一个responsepackage类，写的过程中发现错误处理不是很会弄，还不知道要不要输出个错误日志出来